{% extends  "tutors/tutors.html" %}
{% block otherScripts %}
{% load static %}
    <script type="text/javascript" src="{% static 'javascript/chat.js' %}"></script>
{% endblock %}
{% block main %}
<style>
    @media (min-width: 1200px) {
        .container.list {
            width: 70% !important;
            height:  400px;
        }
    }
    @media (min-width: 992px) {
        .container.list {
            width: 70% !important;
            height:  400px;
        }
    }
    @media (min-width: 768px) {
        .container.list {
                width: 70% !important;
                height:  400px;
        }
    }
    
    .container.list{ width: 50% !important; height:  500px; overflow: auto;}
    .container.list{
        background-color: rgba(142, 242, 245, 0.288);
    }
    
    
</style>
<div class="container list mb-2" style="height: 70px; overflow: hidden;" >
    <div class= "row mt-3 mb-2 ">
        <div class= "col-sm">
            <h2 style="color: ghostwhite;"><b>{{task.title}}</b></h2>
        </div>
        <div class= "col-sm">
          
        </div>
    </div>
</div>
<div class="container list bg-light rounded" style="width: 300px;" id="chat">
    {% for message in messages.mensajes %}
    {% if tutor == message.emisor %}
        <div class= "row mt-4 ml-1 mr-1 h4" style="width: 100%;">
            <p class="text-uppercase text-success" id="{{ task.title }}">{{ message.emisor }} </p>
        </div>
        <div class= "row h5 ml-1 mr-1" style="width: 100%;">
            <p class="" id="{{ task.title }}">{{ message.body }} </p>
        </div>
        <div class= "row ml-1 mr-1" style="width: 100%">
            <small id="emailHelp" class="text-uppercase font-italic" >{{ message.created }}</small>
        </div>
        <hr>
    {% else %}
        <div class= "row mt-4 ml-1 mr-1 h4" >
            <p class="text-uppercase text-info" id="{{ task.title }}">{{ message.emisor }} </p>
        </div>
        <div class= "row h5 ml-1 mr-1" >
            <p id="{{ task.title }}">{{ message.body }} </p>
        </div>
        <div class= "row ml-1 mr-1">
            <small id="emailHelp" class="font-italic " >{{ message.created }}</small>
        </div>
        <hr>
    {% endif %}
    {% endfor %}       
</div>
<div id="mediaSection" class="container list p-3 mt-2" style="height: 50px; overflow: hidden;">
    {% load static %}
    <img src="{% static 'img/archivos.png' %}" alt="Enviar Archivos">
    <img src="{% static 'img/imagen.png' %}" alt="Enviar Imagen">
    <img src="{% static 'img/mic.png' %}" alt="Enviar Audio">
</div>
<div id="newMessageSection" class="container list p-3" style="height: 100px;overflow: hidden; margin-bottom: 50px;">
    <form action="{% url 'taskChat' task.identifier %}" method="POST">
        {% load static %}
        <input type="hidden" name="mimeType" id="mimeType" value="txt">
        <input type="text" style="font-size: medium; width: 92%; padding: 10px;" name="body" id="body" placeholder="Escribe tu mensaje">
        <input type="hidden" name="identifier" id="identifier" value="{{task.identifier}}">
        <input type="hidden" name="category" id="category" value="task">
        <input type="image" style="height: 49px; float: right;" name="submit" src="{% static 'img/enviar.png' %}" alt="Submit">
    </form>
</div>


    
{% endblock %}